基于P2P技术的分布式办公系统设计

（亚嵌武汉分中心）

项目设计：
tsuibin

开发人员：
余晓波(节点发现)
刘康（文件拖拽）
岳鹏飞(全局界面)
李振(对等点通信)
李佳（文件同步）
徐飞(文件同步)


	摘要：点对点网络(peer-to-peer,简称P2P)是一种分布式的应用结构，他能够将任务或者工作量分散到各个对等点上，这个特点让其在这个飞速发展的网络中变得十分流行。而基于分布式技术构建的办公系统，相比传统办公系统在协助上更灵活,本文对一个分布式办公系统进行了需求分析，展示了部分交互机制。同时指出了传统办公软件在如今办公环境中的一些不足，并给出了部分改进建议。
	关键词：计算机应用技术；P2P；分布式系统；办公系统；

	引言
	互联网发展初期，网络上的服务完全依靠大型服务器强大的处理能力和网络带宽提供。然而互联网的魅力在于能把思维中的想法和创新快速的转化为现实，其发展速度是计算机硬件完全无法比拟的，因此服务器的性能严重制约互联网的发展。正是在这样的背景下，P2P应运而生。
	互联网的主要目的是对信息进行快速的收集和分发，因此分布式办公软件作为人们在网络协助办公的一种形式是互联网办公的一种趋势，因此在这方面的开发一直层出不穷，而且在分布式办公系统上掌握的用户群甚至比操作系统更为忠诚。
     Groove作为我们推出的分布式协助办公平台在协助办公领域有着巨大的优势，它很好的将底层的通信链接抽象为通信管道的形式，让开发者集中于上层结构的设计。

	Groove介绍
	Groove是AKAE分布式办公协助平台，这是一个努力的方向，以它来促进和探究分布式设计的新方法。 Groove 这个名字即用来指代这个标准，也用来指代研究出来的技术，这种技术处于传输平台和P2P通信协议的环绕之中。其开发组织被取名为单词“Groove”的简易形式。

	Groove结构
	Groove的体系结构分为三层
	Groove核心
	Groove核心包括最小以及最重要的对于P2P网络很长见的要素。它包括建立允许P2P应用的核心机制（节点发现）、通信传输（包括防火墙和NAT穿越）、对等点和对等点的建立以及相关的安全要素。

服务层
	服务层包含一些对于P2P网络操作不是绝对必要但是很常见且应当具有的网络服务。
这些服务例如查找、排序、指向、存储系统、文件共享、分布式文件系统、资源整合和出租、协议转化、认证以及PKI(Public Key Infrastructure，即公共密匙)服务。

应用层
	应用层包括整合程序的实现，例如P2P即时通信，文件资源共享、内容管理和传递。

需求分析
	本软件要求实现局域网内的分布式协助功能，具体的内容有节点发现、对等点之间的一对一通信、对等点到对等点的一对多通信、对等点之间的文件传输，并且要具有良好的扩展性。

	网络模型设计
	Groove非常适合用于分布式协助领域，因为平台本身基于P2p技术设计，避免了大量信息通过中心节点造成的过度负载，从而引起系统变慢和崩溃的情况发生。由于程序基于C++开发，所有节点均通过互联网服务器获取程序，这里采用P2P的完全集中式的网络结构，所有节点均不与服务器相连，所有的上下线信息均通过对等节点同步和分发，而节点在获取组内其他节点的在线状态后可以不通过获取信息节点与节点直接相连，这样既有P2P的负载分散特性又有节点间能够分布式同步节点状态的优点。
	通过对程序进行分层设计可以使程序模块分工明确，减少模块间的功能耦合度，降低程序的复杂度，并且有利于日后对程序进行模块添加。程序的分层定义如下：
网络层
	最底层，这是物理的以太网，用来维持节点之间通信的基础。
中间层
	由groove提供对等点发现协议、端点路由协议以及管道和Socket等组成，用来封装底层网络和为上层应用提供接口。
应用层
	通过调用Groove节点发现、消息传送等功能来实现文本传送、文件传输等具体通信方式。

	模块设计
	本程序从功能上分为三大模块：用户界面模块、通信模块、资源模块。其中资源模块生成和存储这个应用所需要的所有资源，包括：用户的各种管道广告信息、用户信息、本机网络资源以及国际化资源。三个模块相互协作构成本软件的基本框架。
	程序开始时通过入口函数传入用户名、语言、等信息及，并完成网络模块和用户界面模块的初始化。下面介绍用户界面模块和通信模块的设计。

	用户界面模块
	用户界面是软件和用户之间交互的最主要方式，属于之前设计的三层结构中的应用层。本软件作为分布式办公系统的终端，使用C++实现，因此拥有丰富的操作空间和层次结构，设计的原则是实用方便，并且由于是桌面应用程序，除了同步之外，对网络可靠性要求不高，即使断网，也不影响正常使用。本程序时一个与微软sharepoin类似的办公平台，不同点在与其部署环境为Unix/Linux，因此程序相对安全。